<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>QR Code Scanner</title>
		<style>
			#reader {
				width: 100%;
				height: 100vh; /* Ekran to'liq to'ldiradi */
				margin: 0;
			}
			#result {
				color: white;
				font-size: 30px;
				text-align: center;
				position: absolute;
				top: 20px;
				width: 100%;
			}
			body {
				background-color: black;
				margin: 0;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<div id="result"></div>
		<div id="reader"></div>

		<script src="https://unpkg.com/html5-qrcode/html5-qrcode.min.js"></script>
		<script>
			function onScanSuccess(decodedText, decodedResult) {
				document.getElementById("result").innerText = `QR kod: ${decodedText}`;
				html5QrcodeScanner.clear();
			}

			function onScanFailure(error) {
				console.log(error);
			}

			let html5QrcodeScanner = new Html5QrcodeScanner("reader", {
				fps: 10,
				qrbox: 800,
				videoConstraints: { facingMode: "environment" },
			});
			html5QrcodeScanner.render(onScanSuccess, onScanFailure);
		</script>
	</body>
</html>
